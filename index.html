<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Orienteering Races Map</title>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- noUiSlider -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>

  <style>
    :root { --bg:#0b0d10; --panel:#14171c; --muted:#9aa4b2; --text:#e6edf3; --accent:#4aa3ff; }
    html, body { height:100%; margin:0; background:var(--bg); color:var(--text); font-family:system-ui, sans-serif; }
    .app { display:grid; grid-template-rows:auto 1fr; height:100%; }
    .controls { display:flex; gap:1rem; align-items:center; padding:.75rem 1rem; background:var(--panel); }
    .controls h1 { font-size:1rem; margin:0; font-weight:600; }
    .slider-wrap { flex:1 1 auto; min-width:260px; }
    #slider { margin:.35rem 0 .25rem; }
    .date-labels { display:flex; justify-content:space-between; font-size:.85rem; color:var(--muted); }
    .pill { background:rgba(74,163,255,.12); color:var(--accent); padding:.25rem .5rem; border-radius:999px; font-size:.8rem; white-space:nowrap; }
    .count { white-space:nowrap; }
    #map { height:calc(100vh - 64px); width:100%; }

    /* Marker style */
    .race-pin { width:14px; height:14px; border-radius:50%; background:#4aa3ff; border:2px solid #e6edf3; }

    /* Popup styling */
    .popup-wrap { min-width:260px; }
    .popup-title { font-weight:600; margin:0 0 .25rem 0; }
    .popup-sub { color:var(--muted); margin:0 0 .5rem 0; font-size:.9rem; }
    .popup-table { width:100%; border-collapse:collapse; font-size:.9rem; }
    .popup-table th, .popup-table td { text-align:left; padding:.2rem .25rem; vertical-align:top; }
    .popup-table th { color:var(--muted); font-weight:500; white-space:nowrap; }
    .popup-link { display:inline-block; margin-top:.5rem; color:var(--accent); text-decoration:underline; }
  </style>
</head>
<body>
  <div class="app">
    <div class="controls">
      <h1>Orienteering Races</h1>
      <div class="slider-wrap">
        <div id="slider"></div>
        <div class="date-labels">
          <span><strong>From</strong> <span id="startLabel">—</span></span>
          <span><strong>To</strong> <span id="endLabel">—</span></span>
        </div>
      </div>
      <div class="count"><span id="visibleCount">0</span>/<span id="totalCount">0</span></div>
    </div>
    <div id="map"></div>
  </div>

  <!--DATA:START-->
  <script>
    // Replaced by your pipeline
    window.ORIS_DATA = [{"gps":"50.637921584911,15.193619508056","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9319","tbl":[{"nazev":"ORIS ID:","hodnota":"9319"},{"nazev":"Název:","hodnota":"MČR v horském orientačním běhu"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Malá Skála"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.637921584911,15.193619508056: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"19.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"26.10.2025 23:59"}]},{"gps":"49.845448098968,18.153330087662","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9061","tbl":[{"nazev":"ORIS ID:","hodnota":"9061"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.845448098968,18.153330087662: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"03.10.2025 22:54"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 22:59"},{"nazev":"2. termín přihlášek:","hodnota":"29.10.2025 14:41"}]},{"gps":"","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9162","tbl":[{"nazev":"ORIS ID:","hodnota":"9162"},{"nazev":"Název:","hodnota":"XXIII. oddílový přebor ABM"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"01.10.2025 23:58"}]},{"gps":"49.208415840928,17.44904623181","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=8995","tbl":[{"nazev":"ORIS ID:","hodnota":"8995"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Nová Dědina"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.208415840928,17.44904623181: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"27.10.2025 16:00 Navýšení vkladu: 50 %r"},{"nazev":"3. termín přihlášek:","hodnota":"27.10.2025 16:00 Navýšení vkladu: 100 %r"}]},{"gps":"50.637921584911,15.193619508056","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9320","tbl":[{"nazev":"ORIS ID:","hodnota":"9320"},{"nazev":"Název:","hodnota":"MČR v horském orientačním běhu - E1"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.637921584911,15.193619508056: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"19.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"26.10.2025 23:59"}]},{"gps":"50.395647441775,15.616271495819","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=8838","tbl":[{"nazev":"ORIS ID:","hodnota":"8838"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Lukavec u Hořic"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.395647441775,15.616271495819: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"29.10.2025"}]},{"gps":"49.945762495281,14.804530441761","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9140","tbl":[{"nazev":"ORIS ID:","hodnota":"9140"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Černé Voděrady, louka u Voděradského rybníka"},{"nazev":"Start 00:","hodnota":"10:30"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.945762495281,14.804530441761: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"28.10.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"30.10.2025"}]},{"gps":"49.65685,17.01112","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9015","tbl":[{"nazev":"ORIS ID:","hodnota":"9015"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Loučka u Litovle"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.65685,17.01112: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"23.09.2025 16:06"},{"nazev":"1. termín přihlášek:","hodnota":"27.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"29.10.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"3. termín přihlášek:","hodnota":"30.10.2025 00:00 Navýšení vkladu: 100 %r"}]},{"gps":"49.578100899157,16.051604747772","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9045","tbl":[{"nazev":"ORIS ID:","hodnota":"9045"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Vysočina aréna Nové Město na Moravě"},{"nazev":"Start 00:","hodnota":"12:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.578100899157,16.051604747772: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"27.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"28.10.2025 23:59 Navýšení vkladu: 50 %r"}]},{"gps":"49.578121769236,16.0515832901","date":"01.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9046","tbl":[{"nazev":"ORIS ID:","hodnota":"9046"},{"nazev":"Název:","hodnota":"Mistrovství oblasti v nočním OB"},{"nazev":"Datum:","hodnota":"01.11.2025"},{"nazev":"Místo konání:","hodnota":"Vysočina aréna Nové Město na Moravě"},{"nazev":"Start 00:","hodnota":"17:15"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.578121769236,16.0515832901: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"27.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"28.10.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"30.10.2025"}]},{"gps":"","date":"02.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9493","tbl":[{"nazev":"ORIS ID:","hodnota":"9493"},{"nazev":"Název:","hodnota":"Srovnávací testy mládeže MTBO 2. termín"},{"nazev":"Datum:","hodnota":"02.11.2025"},{"nazev":"Místo konání:","hodnota":"Kladno"},{"nazev":"Sport:","hodnota":"MTBO"},{"nazev":"1. termín přihlášek:","hodnota":"24.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"26.10.2025 23:59"}]},{"gps":"50.637921584911,15.193619508056","date":"02.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9321","tbl":[{"nazev":"ORIS ID:","hodnota":"9321"},{"nazev":"Název:","hodnota":"MČR v horském orientačním běhu - E2"},{"nazev":"Datum:","hodnota":"02.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Start 00:","hodnota":"08:40"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.637921584911,15.193619508056: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"19.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"26.10.2025 23:59"}]},{"gps":"50.777096941806,15.097682476044","date":"02.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9101","tbl":[{"nazev":"ORIS ID:","hodnota":"9101"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"02.11.2025"},{"nazev":"Místo konání:","hodnota":"Střelnice Starý Harcov, Liberec"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.777096941806,15.097682476044: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"29.10.2025 23:59 Navýšení vkladu: 50 %r"}]},{"gps":"50.164844946879,16.283830125002","date":"05.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9357","tbl":[{"nazev":"ORIS ID:","hodnota":"9357"},{"nazev":"Název:","hodnota":"10. kolo Orlické ligy"},{"nazev":"Datum:","hodnota":"05.11.2025"},{"nazev":"Místo konání:","hodnota":"Rychnov nad Kněžnou"},{"nazev":"Start 00:","hodnota":"16:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.164844946879,16.283830125002: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"14.10.2025 17:32"},{"nazev":"1. termín přihlášek:","hodnota":"04.11.2025 18:00"}]},{"gps":"49.407611978871,14.811860918999","date":"06.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9597","tbl":[{"nazev":"ORIS ID:","hodnota":"9597"},{"nazev":"Název:","hodnota":"1. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"06.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Start 00:","hodnota":"18:10"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.407611978871,14.811860918999: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"05.11.2025 00:00"}]},{"gps":"","date":"07.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9522","tbl":[{"nazev":"ORIS ID:","hodnota":"9522"},{"nazev":"Název:","hodnota":"1. Zkouška sirén 2025-26"},{"nazev":"Datum:","hodnota":"07.11.2025"},{"nazev":"Místo konání:","hodnota":"Chlebovjanka Chlebovice"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"04.11.2025 13:24"}]},{"gps":"49.01386420659,15.251898765564","date":"07.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9566","tbl":[{"nazev":"ORIS ID:","hodnota":"9566"},{"nazev":"Název:","hodnota":"KCTM Soustředění - Landštejn"},{"nazev":"Datum:","hodnota":"07.11.2025"},{"nazev":"Místo konání:","hodnota":"Resort pod Landštejnem"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.01386420659,15.251898765564: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"15.10.2025 21:00"},{"nazev":"1. termín přihlášek:","hodnota":"26.10.2025 20:00"}]},{"gps":"49.823220745227,16.104900103072","date":"07.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9478","tbl":[{"nazev":"ORIS ID:","hodnota":"9478"},{"nazev":"Název:","hodnota":"Školení začínajících kartografů"},{"nazev":"Datum:","hodnota":"07.11.2025"},{"nazev":"Místo konání:","hodnota":"Zderaz"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.823220745227,16.104900103072: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"10.08.2025 15:02"},{"nazev":"1. termín přihlášek:","hodnota":"30.09.2025 23:59"}]},{"gps":"","date":"07.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9536","tbl":[{"nazev":"ORIS ID:","hodnota":"9536"},{"nazev":"Název:","hodnota":"HULK cup"},{"nazev":"Datum:","hodnota":"07.11.2025"},{"nazev":"Místo konání:","hodnota":"někde na území hl.m.Prahy"},{"nazev":"Start 00:","hodnota":"18:17"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"03.11.2025 23:59"}]},{"gps":"","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9514","tbl":[{"nazev":"ORIS ID:","hodnota":"9514"},{"nazev":"Název:","hodnota":"Klubový přebor KOS Tesla Brno"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Zubří"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"05.11.2025 23:59"}]},{"gps":"","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9515","tbl":[{"nazev":"ORIS ID:","hodnota":"9515"},{"nazev":"Název:","hodnota":"Klubový přebor KOS Tesla Brno - E1"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Tři Studně"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"05.11.2025 23:59"}]},{"gps":"49.228423198656,15.383101704625","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9527","tbl":[{"nazev":"ORIS ID:","hodnota":"9527"},{"nazev":"Název:","hodnota":"Oddílový přebor ZBM"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Řásná"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.228423198656,15.383101704625: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"13.10.2025 07:39"}]},{"gps":"49.829927396011,18.091867590365","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9592","tbl":[{"nazev":"ORIS ID:","hodnota":"9592"},{"nazev":"Název:","hodnota":"Přebor SK OB Ostrava"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Čavisov"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.829927396011,18.091867590365: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"04.11.2025 23:59"}]},{"gps":"50.051683040569,16.071152687073","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=8839","tbl":[{"nazev":"ORIS ID:","hodnota":"8839"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Horní Jelení, RS Tramtáryje"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.051683040569,16.071152687073: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"02.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"05.11.2025"}]},{"gps":"49.132770306404,16.478805541992","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9537","tbl":[{"nazev":"ORIS ID:","hodnota":"9537"},{"nazev":"Název:","hodnota":"RBK cup open 2025"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Radostice"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.132770306404,16.478805541992: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"13.10.2025 08:21"},{"nazev":"1. termín přihlášek:","hodnota":"04.11.2025 12:00"},{"nazev":"Datum splatnosti:","hodnota":"05.11.2025"}]},{"gps":"50.753916161405,14.559717288361","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9381","tbl":[{"nazev":"ORIS ID:","hodnota":"9381"},{"nazev":"Název:","hodnota":"Novoborská honička 2025"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"budova Jídelny - ZŠ U Lesa Nový Bor"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.753916161405,14.559717288361: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"06.11.2025 23:59"}]},{"gps":"50.097128550179,14.333446025848","date":"08.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9141","tbl":[{"nazev":"ORIS ID:","hodnota":"9141"},{"nazev":"Název:","hodnota":"Oblastní žebříček"},{"nazev":"Datum:","hodnota":"08.11.2025"},{"nazev":"Místo konání:","hodnota":"Praha-Vokovice, zábavní park DinoLive"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.097128550179,14.333446025848: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"03.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"05.11.2025 23:59"}]},{"gps":"49.578386122797,16.135611360783","date":"09.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9516","tbl":[{"nazev":"ORIS ID:","hodnota":"9516"},{"nazev":"Název:","hodnota":"Klubový přebor KOS Tesla Brno - E2"},{"nazev":"Datum:","hodnota":"09.11.2025"},{"nazev":"Místo konání:","hodnota":"Zubří"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.578386122797,16.135611360783: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"05.11.2025 23:59"}]},{"gps":"49.547530570534,14.826221466064","date":"09.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9296","tbl":[{"nazev":"ORIS ID:","hodnota":"9296"},{"nazev":"Název:","hodnota":"7. DL"},{"nazev":"Datum:","hodnota":"09.11.2025"},{"nazev":"Místo konání:","hodnota":"Mladá Vožice - Šelmberk"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.547530570534,14.826221466064: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"02.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"07.11.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"07.11.2025"}]},{"gps":"49.335246364786,17.695434180143","date":"15.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9590","tbl":[{"nazev":"ORIS ID:","hodnota":"9590"},{"nazev":"Název:","hodnota":"Podzimní soustředění - Ráztoka"},{"nazev":"Datum:","hodnota":"15.11.2025"},{"nazev":"Místo konání:","hodnota":"Ráztoka"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.335246364786,17.695434180143: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"21.10.2025 22:24"},{"nazev":"1. termín přihlášek:","hodnota":"02.11.2025 23:59"}]},{"gps":"49.86896,15.94887","date":"15.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9481","tbl":[{"nazev":"ORIS ID:","hodnota":"9481"},{"nazev":"Název:","hodnota":"Dušičkový závod"},{"nazev":"Datum:","hodnota":"15.11.2025"},{"nazev":"Místo konání:","hodnota":"Skála 27, Chrast - Hostinec u Bačkovských"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.86896,15.94887: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"}]},{"gps":"","date":"17.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9540","tbl":[{"nazev":"ORIS ID:","hodnota":"9540"},{"nazev":"Název:","hodnota":"Sametový přebor"},{"nazev":"Datum:","hodnota":"17.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"10.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"14.11.2025 23:59"}]},{"gps":"50.08187,14.06873","date":"17.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9501","tbl":[{"nazev":"ORIS ID:","hodnota":"9501"},{"nazev":"Název:","hodnota":"SMIK - 31. Mistrovství světa ve SMIKu"},{"nazev":"Datum:","hodnota":"17.11.2025"},{"nazev":"Místo konání:","hodnota":"Horní Bezděkov"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.08187,14.06873: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"10.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"13.11.2025 23:59 Navýšení vkladu: 67 %r"}]},{"gps":"49.379425216093,14.692561620656","date":"19.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9598","tbl":[{"nazev":"ORIS ID:","hodnota":"9598"},{"nazev":"Název:","hodnota":"2. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"19.11.2025"},{"nazev":"Místo konání:","hodnota":"Sezimovo Ústí"},{"nazev":"Start 00:","hodnota":"17:15"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.379425216093,14.692561620656: Google mapy , Mapy.cz - turistická"}]},{"gps":"49.626342579336,18.076801300049","date":"21.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9523","tbl":[{"nazev":"ORIS ID:","hodnota":"9523"},{"nazev":"Název:","hodnota":"Oddílový přebor BFM noční"},{"nazev":"Datum:","hodnota":"21.11.2025"},{"nazev":"Místo konání:","hodnota":"Libhošť"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.626342579336,18.076801300049: Google mapy , Mapy.cz - turistická"}]},{"gps":"","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9445","tbl":[{"nazev":"ORIS ID:","hodnota":"9445"},{"nazev":"Název:","hodnota":"PH CUP 2025"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":"Písek"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"16.11.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"21.11.2025"}]},{"gps":"49.301194187877,14.114534768221","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9446","tbl":[{"nazev":"ORIS ID:","hodnota":"9446"},{"nazev":"Název:","hodnota":"PH CUP 2025 - E1"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":"Písek - Hradiště"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.301194187877,14.114534768221: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"16.11.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"21.11.2025"}]},{"gps":"49.3011801957,14.114524013385","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9447","tbl":[{"nazev":"ORIS ID:","hodnota":"9447"},{"nazev":"Název:","hodnota":"PH CUP 2025 - E2"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.3011801957,14.114524013385: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"16.11.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"21.11.2025"}]},{"gps":"50.203752569439,15.829233509617","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9503","tbl":[{"nazev":"ORIS ID:","hodnota":"9503"},{"nazev":"Název:","hodnota":"Metodický seminář trenérů a rozhodčích"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":"Hradec Králové - univerzitní kampus"},{"nazev":"Start 00:","hodnota":"09:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.203752569439,15.829233509617: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"}]},{"gps":"49.37138485262,15.706306660893","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9539","tbl":[{"nazev":"ORIS ID:","hodnota":"9539"},{"nazev":"Název:","hodnota":"Maredův Pohár XLIII"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":"Luka nad Jihlavou"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.37138485262,15.706306660893: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"15.11.2025 00:00"},{"nazev":"2. termín přihlášek:","hodnota":"18.11.2025 00:00 Navýšení vkladu: 30 %r"}]},{"gps":"50.211192483865,15.83114862442","date":"22.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9506","tbl":[{"nazev":"ORIS ID:","hodnota":"9506"},{"nazev":"Název:","hodnota":"O-GALA 2025"},{"nazev":"Datum:","hodnota":"22.11.2025"},{"nazev":"Místo konání:","hodnota":"Adalbertinum, Hradec Králové"},{"nazev":"Start 00:","hodnota":"19:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.211192483865,15.83114862442: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"14.11.2025"}]},{"gps":"","date":"23.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9482","tbl":[{"nazev":"ORIS ID:","hodnota":"9482"},{"nazev":"Název:","hodnota":"Kufrování s KOBULem"},{"nazev":"Datum:","hodnota":"23.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"49.379173756361,14.127216258221","date":"23.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9448","tbl":[{"nazev":"ORIS ID:","hodnota":"9448"},{"nazev":"Název:","hodnota":"PH CUP 2025 - E3"},{"nazev":"Datum:","hodnota":"23.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.379173756361,14.127216258221: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"09.11.2025 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"16.11.2025 23:59 Navýšení vkladu: 50 %r"},{"nazev":"Datum splatnosti:","hodnota":"21.11.2025"}]},{"gps":"49.970890459271,14.382981061935","date":"29.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9542","tbl":[{"nazev":"ORIS ID:","hodnota":"9542"},{"nazev":"Název:","hodnota":"Tour de Prague 2025"},{"nazev":"Datum:","hodnota":"29.11.2025"},{"nazev":"Místo konání:","hodnota":"Praha - Zbraslav"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.970890459271,14.382981061935: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"25.11.2025 23:59"}]},{"gps":"","date":"29.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9589","tbl":[{"nazev":"ORIS ID:","hodnota":"9589"},{"nazev":"Název:","hodnota":"2. SLezská zimní liga MSK - Ondrášek"},{"nazev":"Datum:","hodnota":"29.11.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"49.882658796417,16.871609520247","date":"29.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9623","tbl":[{"nazev":"ORIS ID:","hodnota":"9623"},{"nazev":"Název:","hodnota":"Workshop pro trenéry: Nápady do tělocvičny"},{"nazev":"Datum:","hodnota":"29.11.2025"},{"nazev":"Místo konání:","hodnota":"Zábřeh"},{"nazev":"Start 00:","hodnota":"09:30"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.882658796417,16.871609520247: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"25.11.2025 23:59"}]},{"gps":"49.219503230226,16.689873933792","date":"29.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9593","tbl":[{"nazev":"ORIS ID:","hodnota":"9593"},{"nazev":"Název:","hodnota":"TRAIL-O Brno – sobotní PreO"},{"nazev":"Datum:","hodnota":"29.11.2025"},{"nazev":"Místo konání:","hodnota":"Brno, Velká Klajdovka"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"TRAIL"},{"nazev":"Souřadnice:","hodnota":"49.219503230226,16.689873933792: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"25.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"26.11.2025"}]},{"gps":"50.011338201779,14.113161563873","date":"30.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9500","tbl":[{"nazev":"ORIS ID:","hodnota":"9500"},{"nazev":"Název:","hodnota":"Čertoviny"},{"nazev":"Datum:","hodnota":"30.11.2025"},{"nazev":"Místo konání:","hodnota":"Malé Přílepy"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.011338201779,14.113161563873: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"26.11.2025 22:00"}]},{"gps":"49.22417012311,16.755169630051","date":"30.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9594","tbl":[{"nazev":"ORIS ID:","hodnota":"9594"},{"nazev":"Název:","hodnota":"TRAIL-O Brno – nedělní PreO"},{"nazev":"Datum:","hodnota":"30.11.2025"},{"nazev":"Místo konání:","hodnota":"Mokrá"},{"nazev":"Start 00:","hodnota":"09:00"},{"nazev":"Sport:","hodnota":"TRAIL"},{"nazev":"Souřadnice:","hodnota":"49.22417012311,16.755169630051: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"25.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"26.11.2025"}]},{"gps":"49.224191144153,16.755191087723","date":"30.11.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9595","tbl":[{"nazev":"ORIS ID:","hodnota":"9595"},{"nazev":"Název:","hodnota":"TRAIL-O Brno – nedělní TempO"},{"nazev":"Datum:","hodnota":"30.11.2025"},{"nazev":"Místo konání:","hodnota":"Mokrá"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"TRAIL"},{"nazev":"Souřadnice:","hodnota":"49.224191144153,16.755191087723: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"25.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"26.11.2025"}]},{"gps":"","date":"02.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9596","tbl":[{"nazev":"ORIS ID:","hodnota":"9596"},{"nazev":"Název:","hodnota":"Mikulášův kufr"},{"nazev":"Datum:","hodnota":"02.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"","date":"04.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9599","tbl":[{"nazev":"ORIS ID:","hodnota":"9599"},{"nazev":"Název:","hodnota":"3. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"04.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.032017959718,15.41620016098","date":"05.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9453","tbl":[{"nazev":"ORIS ID:","hodnota":"9453"},{"nazev":"Název:","hodnota":"Metodický seminář: sprintové mapy"},{"nazev":"Datum:","hodnota":"05.12.2025"},{"nazev":"Místo konání:","hodnota":"Chvaletice"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.032017959718,15.41620016098: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"23.11.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"03.12.2025"}]},{"gps":"","date":"06.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9297","tbl":[{"nazev":"ORIS ID:","hodnota":"9297"},{"nazev":"Název:","hodnota":"8. DL"},{"nazev":"Datum:","hodnota":"06.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"","date":"06.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9565","tbl":[{"nazev":"ORIS ID:","hodnota":"9565"},{"nazev":"Název:","hodnota":"Zimák 800 (Zimní hradubická liga/Indoor liga 0. ročník)"},{"nazev":"Datum:","hodnota":"06.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Datum spuštění přihlášek:","hodnota":"01.11.2025 00:00"},{"nazev":"1. termín přihlášek:","hodnota":"02.12.2025 23:59"}]},{"gps":"","date":"06.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9622","tbl":[{"nazev":"ORIS ID:","hodnota":"9622"},{"nazev":"Název:","hodnota":"Mikulášský orienťák"},{"nazev":"Datum:","hodnota":"06.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.734553854835,15.57022345036","date":"07.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9528","tbl":[{"nazev":"ORIS ID:","hodnota":"9528"},{"nazev":"Název:","hodnota":"Lyžařská akademie Mísečky 7.-11. 12. 2025"},{"nazev":"Datum:","hodnota":"07.12.2025"},{"nazev":"Místo konání:","hodnota":"Horní Mísečky"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Souřadnice:","hodnota":"50.734553854835,15.57022345036: Google mapy , Mapy.cz - turistická"},{"nazev":"Datum spuštění přihlášek:","hodnota":"03.11.2025 19:00"}]},{"gps":"49.245127165111,16.591651439667","date":"13.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=7819","tbl":[{"nazev":"ORIS ID:","hodnota":"7819"},{"nazev":"Název:","hodnota":"Běh na Býčí skálu - 63. ročník"},{"nazev":"Datum:","hodnota":"13.12.2025"},{"nazev":"Místo konání:","hodnota":"Brno - Řečkovice, Zamilovaný háj"},{"nazev":"Start 00:","hodnota":"09:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.245127165111,16.591651439667: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"11.12.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"12.12.2025"}]},{"gps":"49.806155775469,18.241065144539","date":"13.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9609","tbl":[{"nazev":"ORIS ID:","hodnota":"9609"},{"nazev":"Název:","hodnota":"3. závod Slezské zimní ligy: Starý Zábřeh"},{"nazev":"Datum:","hodnota":"13.12.2025"},{"nazev":"Místo konání:","hodnota":"Ostrava Zábřeh"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.806155775469,18.241065144539: Google mapy , Mapy.cz - turistická"}]},{"gps":"","date":"14.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9017","tbl":[{"nazev":"ORIS ID:","hodnota":"9017"},{"nazev":"Název:","hodnota":"Lyžařská akademie Paprsek 14.-19.12.2025"},{"nazev":"Datum:","hodnota":"14.12.2025"},{"nazev":"Místo konání:","hodnota":"Paprsek"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Datum spuštění přihlášek:","hodnota":"29.09.2025 20:00"},{"nazev":"1. termín přihlášek:","hodnota":"30.10.2025 00:00"},{"nazev":"2. termín přihlášek:","hodnota":"16.11.2025 00:00"}]},{"gps":"50.080496015731,14.385480880737","date":"14.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9561","tbl":[{"nazev":"ORIS ID:","hodnota":"9561"},{"nazev":"Název:","hodnota":"Workshop nástrojů pro stavbu tratí pro tréninky i závody (OCAD / Purple Pen + OOMapper)"},{"nazev":"Datum:","hodnota":"14.12.2025"},{"nazev":"Místo konání:","hodnota":"Praha, Zátopkova 100/2"},{"nazev":"Start 00:","hodnota":"09:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.080496015731,14.385480880737: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"07.12.2025 23:59"},{"nazev":"Datum splatnosti:","hodnota":"10.12.2025"}]},{"gps":"","date":"18.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9600","tbl":[{"nazev":"ORIS ID:","hodnota":"9600"},{"nazev":"Název:","hodnota":"4. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"18.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.084180968313,14.405146837234","date":"20.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9543","tbl":[{"nazev":"ORIS ID:","hodnota":"9543"},{"nazev":"Název:","hodnota":"Prahou s mapou 2025 - Petřín"},{"nazev":"Datum:","hodnota":"20.12.2025"},{"nazev":"Místo konání:","hodnota":"Praha - Petřín"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.084180968313,14.405146837234: Google mapy , Mapy.cz - turistická"}]},{"gps":"","date":"21.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9474","tbl":[{"nazev":"ORIS ID:","hodnota":"9474"},{"nazev":"Název:","hodnota":"Večerník Praha"},{"nazev":"Datum:","hodnota":"21.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"","date":"21.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9253","tbl":[{"nazev":"ORIS ID:","hodnota":"9253"},{"nazev":"Název:","hodnota":"Vánoční sprint 2025 (Zimní hradubická liga)"},{"nazev":"Datum:","hodnota":"21.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"49.461280218671,17.012267272809","date":"23.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9524","tbl":[{"nazev":"ORIS ID:","hodnota":"9524"},{"nazev":"Název:","hodnota":"Vánoční pohár 2025"},{"nazev":"Datum:","hodnota":"23.12.2025"},{"nazev":"Místo konání:","hodnota":"Plumlov, kemp Žralok"},{"nazev":"Start 00:","hodnota":"11:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.461280218671,17.012267272809: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"21.12.2025 23:59"}]},{"gps":"","date":"26.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9483","tbl":[{"nazev":"ORIS ID:","hodnota":"9483"},{"nazev":"Název:","hodnota":"Na Štěpána s Kobulem"},{"nazev":"Datum:","hodnota":"26.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"","date":"27.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9538","tbl":[{"nazev":"ORIS ID:","hodnota":"9538"},{"nazev":"Název:","hodnota":"Kufrování s Krakonošem"},{"nazev":"Datum:","hodnota":"27.12.2025"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.198761649306,14.832519292831","date":"27.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9605","tbl":[{"nazev":"ORIS ID:","hodnota":"9605"},{"nazev":"Název:","hodnota":"Vánoční orienťák v Lysé"},{"nazev":"Datum:","hodnota":"27.12.2025"},{"nazev":"Místo konání:","hodnota":"Lysá nad Labem"},{"nazev":"Start 00:","hodnota":"10:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.198761649306,14.832519292831: Google mapy , Mapy.cz - turistická"}]},{"gps":"50.608939386822,15.506097078323","date":"28.12.2025","url":"https://oris.ceskyorientak.cz/Zavod?id=9591","tbl":[{"nazev":"ORIS ID:","hodnota":"9591"},{"nazev":"Název:","hodnota":"Kufrování s Krakonošem aneb Jilemnice plná lampiónů"},{"nazev":"Datum:","hodnota":"28.12.2025"},{"nazev":"Místo konání:","hodnota":"Jilemnice, Masarykovo náměstí"},{"nazev":"Start 00:","hodnota":"13:00"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"50.608939386822,15.506097078323: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"28.12.2025 12:00"}]},{"gps":"","date":"08.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9601","tbl":[{"nazev":"ORIS ID:","hodnota":"9601"},{"nazev":"Název:","hodnota":"5. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"08.01.2026"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.55344,15.54936","date":"10.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9547","tbl":[{"nazev":"ORIS ID:","hodnota":"9547"},{"nazev":"Název:","hodnota":"Český pohár, ŽA, ŽB - sprint"},{"nazev":"Datum:","hodnota":"10.01.2026"},{"nazev":"Místo konání:","hodnota":"Studenec"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Souřadnice:","hodnota":"50.55344,15.54936: Google mapy , Mapy.cz - turistická"}]},{"gps":"","date":"11.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9517","tbl":[{"nazev":"ORIS ID:","hodnota":"9517"},{"nazev":"Název:","hodnota":"Sportega BLZ: Lesný sprint"},{"nazev":"Datum:","hodnota":"11.01.2026"},{"nazev":"Místo konání:","hodnota":"Lesná"},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"50.55344,15.54936","date":"11.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9548","tbl":[{"nazev":"ORIS ID:","hodnota":"9548"},{"nazev":"Název:","hodnota":"Český pohár, ŽA, ŽB - krátká trať"},{"nazev":"Datum:","hodnota":"11.01.2026"},{"nazev":"Místo konání:","hodnota":"Studenec"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Souřadnice:","hodnota":"50.55344,15.54936: Google mapy , Mapy.cz - turistická"}]},{"gps":"47.70092,14.42255","date":"17.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9549","tbl":[{"nazev":"ORIS ID:","hodnota":"9549"},{"nazev":"Název:","hodnota":"Český pohár, ŽA, ŽB - krátká trať"},{"nazev":"Datum:","hodnota":"17.01.2026"},{"nazev":"Místo konání:","hodnota":"Rosenau"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Souřadnice:","hodnota":"47.70092,14.42255: Google mapy , Mapy.cz - turistická"}]},{"gps":"47.70092,14.42255","date":"18.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9550","tbl":[{"nazev":"ORIS ID:","hodnota":"9550"},{"nazev":"Název:","hodnota":"Český pohár, ŽA, ŽB - krátká trať"},{"nazev":"Datum:","hodnota":"18.01.2026"},{"nazev":"Místo konání:","hodnota":"Rosenau"},{"nazev":"Sport:","hodnota":"LOB"},{"nazev":"Souřadnice:","hodnota":"47.70092,14.42255: Google mapy , Mapy.cz - turistická"}]},{"gps":"","date":"22.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9602","tbl":[{"nazev":"ORIS ID:","hodnota":"9602"},{"nazev":"Název:","hodnota":"6. závod NIGHT ORIENTEERING TOUR"},{"nazev":"Datum:","hodnota":"22.01.2026"},{"nazev":"Místo konání:","hodnota":""},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"","date":"24.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9562","tbl":[{"nazev":"ORIS ID:","hodnota":"9562"},{"nazev":"Název:","hodnota":"Workshop pro organizátory závodů"},{"nazev":"Datum:","hodnota":"24.01.2026"},{"nazev":"Místo konání:","hodnota":"Praha - Strahov"},{"nazev":"Sport:","hodnota":"OB"}]},{"gps":"49.91022414259,14.71996307373","date":"24.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9386","tbl":[{"nazev":"ORIS ID:","hodnota":"9386"},{"nazev":"Název:","hodnota":"Dojet na Kozla (19. ručník)"},{"nazev":"Datum:","hodnota":"24.01.2026"},{"nazev":"Místo konání:","hodnota":"Mirošovice u Prahy"},{"nazev":"Start 00:","hodnota":"11:02"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.91022414259,14.71996307373: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"18.01.2026 23:59"},{"nazev":"2. termín přihlášek:","hodnota":"21.01.2026 23:59 Navýšení vkladu: 25 %r"}]},{"gps":"49.132545666934,16.479085052182","date":"24.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9520","tbl":[{"nazev":"ORIS ID:","hodnota":"9520"},{"nazev":"Název:","hodnota":"Krátký den 2026"},{"nazev":"Datum:","hodnota":"24.01.2026"},{"nazev":"Místo konání:","hodnota":"Radostice"},{"nazev":"Start 00:","hodnota":"12:30"},{"nazev":"Sport:","hodnota":"OB"},{"nazev":"Souřadnice:","hodnota":"49.132545666934,16.479085052182: Google mapy , Mapy.cz - turistická"},{"nazev":"1. termín přihlášek:","hodnota":"10.01.2026 22:58"},{"nazev":"2. termín přihlášek:","hodnota":"15.01.2026 08:00 Navýšení vkladu: 50 %r"}]},{"gps":"","date":"25.01.2026","url":"https://oris.ceskyorientak.cz/Zavod?id=9612","tbl":[{"nazev":"ORIS ID:","hodnota":"9612"},{"nazev":"Název:","hodnota":"Zimní hradubická liga - Led(n)ové Třebechovice"},{"nazev":"Datum:","hodnota":"25.01.2026"},{"nazev":"Místo konání:","hodnota":"Třebechovice"},{"nazev":"Sport:","hodnota":"OB"}]}];
  </script>
  <!--DATA:END-->

<script>
  // ---------- Helpers ----------
  const MS_PER_DAY = 86400000;

  // Fields to hide in the popup table
  const HIDE_FIELDS = new Set(['ORIS ID', 'Souřadnice']);

  // Parse "04.10.2025" or "2025-10-04" -> Date (local midnight)
  function parseDMY(s){
    if (!s) return null;
    const iso = /^\d{4}-\d{2}-\d{2}$/;
    if (iso.test(s)) return new Date(s + "T00:00:00");
    const m = s.match(/^(\d{1,2})[.\-\/](\d{1,2})[.\-\/](\d{2,4})$/);
    if (!m) return null;
    const d = +m[1], mo = +m[2] - 1, y = m[3].length === 2 ? 2000 + +m[3] : +m[3];
    return new Date(y, mo, d);
  }
  const fmtDate = (d) => d ? d.toLocaleDateString(undefined, {year:'numeric', month:'2-digit', day:'2-digit'}) : "";

  // Use a timezone-agnostic day number for comparisons (UTC day index)
  const toDayNumUTC = (d) => d ? Math.floor(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()) / MS_PER_DAY) : NaN;
  // Convert day number back to a *local* Date for labels
  const dayNumToLocalDate = (n) => {
    const du = new Date(n * MS_PER_DAY);
    return new Date(du.getUTCFullYear(), du.getUTCMonth(), du.getUTCDate());
  };

  // Optional status reporter; not tied to any DOM node
  const setStatus = (msg) => { /* no-op; swap to console.info(msg) if desired */ };

  function dotIcon(){ return L.divIcon({ className:'race-pin', iconSize:[14,14] }); }

  // ---------- Map ----------
  const map = L.map('map', { worldCopyJump: true });
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);
  map.setView([20, 0], 2);

  const layerGroup = L.layerGroup().addTo(map);

  // ---------- Data ingest ----------
  let allRecords = [];
  let didAutoFitOnce = false; // only auto-fit on the very first render

  function getField(tbl, label){
    if (!Array.isArray(tbl)) return '';
    const found = tbl.find(x => (x?.nazev || '').replace(/:$/,'') === label.replace(/:$/,''));
    return found ? (found.hodnota || '') : '';
  }

  function buildPopupHTML(r){
    const safe = (x) => String(x ?? '').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const rows = (r.rawTable || [])
      .filter(({ nazev }) => !HIDE_FIELDS.has(String(nazev || '').replace(/:$/,'')))
      .map(({ nazev, hodnota }) =>
        `<tr><th>${safe((nazev||'').replace(/:$/,''))}</th><td>${safe(hodnota||'')}</td></tr>`
      ).join('');
    const title = safe(r.name || '(bez názvu)');
    const place = safe(r.place || '');
    const date = r.date ? fmtDate(r.date) : '';
    const link = r.link ? `<a class="popup-link" href="${r.link}" target="_blank" rel="noopener">Otevřít v ORIS</a>` : '';
    return `
      <div class="popup-wrap">
        <div class="popup-title">${title}</div>
        <div class="popup-sub">${[place, date].filter(Boolean).join(' • ')}</div>
        <table class="popup-table">${rows}</table>
        ${link}
      </div>`;
  }

  function makeMarker(r){
    const m = L.marker([r.lat, r.lon], { icon: dotIcon() });
    m.bindPopup(buildPopupHTML(r), { direction: "center" });
    return m;
  }

  // Build records from ORIS_DATA
  (function(){
    try {
      const rows = Array.isArray(window.ORIS_DATA) ? window.ORIS_DATA : [];
      const recs = [];

      for (const row of rows){
        // Coordinates from 'gps' or from 'Souřadnice'
        let lat = NaN, lon = NaN;
        const gpsRaw = row.gps || getField(row.tbl, 'Souřadnice');
        if (gpsRaw){
          const m = String(gpsRaw).match(/(-?\d+(?:\.\d+)?)[,\s]+(-?\d+(?:\.\d+)?)/);
          if (m){ lat = parseFloat(m[1]); lon = parseFloat(m[2]); }
        }
        if (isNaN(lat) || isNaN(lon)) continue;

        const name   = getField(row.tbl, 'Název');
        const place  = getField(row.tbl, 'Místo konání');
        const date   = parseDMY(getField(row.tbl, 'Datum'));
        const orisId = getField(row.tbl, 'ORIS ID');
        const link   = orisId ? `https://oris.orientacnisporty.cz/Zavod?id=${encodeURIComponent(orisId)}` : (row.url || '');

        const record = {
          name, place, date, link,
          dateNum: toDayNumUTC(date),
          lat, lon,
          rawTable: row.tbl
        };
        record.marker = makeMarker(record);
        recs.push(record);
      }

      // Sort by date (unknown last)
      recs.sort((a,b)=>{
        if (!a.date && !b.date) return 0;
        if (!a.date) return 1;
        if (!b.date) return -1;
        return a.date - b.date;
      });

      allRecords = recs;
      const totalEl = document.getElementById('totalCount');
      if (totalEl) totalEl.textContent = allRecords.length;

      if (!allRecords.length){
        setStatus('No valid records.');
        console.warn('No valid records to display.');
        // Still initialize slider so labels don’t remain blank
        initSliderAndRender();
        return;
      }

      initSliderAndRender();
    } catch (e){
      console.error(e);
      setStatus('Error');
    }
  })();

  // ---------- Slider + filtering (ALL races) ----------
  function initSliderAndRender(){
    const dated = allRecords.filter(r => Number.isFinite(r.dateNum));
    const todayNum = toDayNumUTC(new Date());
    const minNum = dated.length ? Math.min(...dated.map(r => r.dateNum)) : todayNum;
    const maxNum = dated.length ? Math.max(...dated.map(r => r.dateNum)) : minNum;

    const slider = document.getElementById('slider');
    if (!slider){
      console.error('#slider element is missing.');
      return;
    }

    // Create only once (in case this function ever gets reused)
    if (!slider.noUiSlider){
      noUiSlider.create(slider, {
        start: [minNum, maxNum],
        connect: true,
        step: 1,
        range: { min: minNum, max: maxNum },
        behaviour: 'tap-drag'
      });
    } else {
      slider.noUiSlider.updateOptions({ range: { min: minNum, max: maxNum } }, false);
      slider.noUiSlider.set([minNum, maxNum]);
    }

    const st = document.getElementById('startLabel');
    const en = document.getElementById('endLabel');
    const visibleCountEl = document.getElementById('visibleCount');

    const paint = () => {
      const vals = slider.noUiSlider.get();
      const a0 = Math.round(+vals[0]);
      const b0 = Math.round(+vals[1]);
      const a = Math.min(a0, b0), b = Math.max(a0, b0);

      if (st) st.textContent = fmtDate(dayNumToLocalDate(a));
      if (en) en.textContent = fmtDate(dayNumToLocalDate(b));

      layerGroup.clearLayers();
      let shown = 0;
      const bounds = L.latLngBounds();

      for (const r of allRecords){
        if (Number.isFinite(r.dateNum) && r.dateNum >= a && r.dateNum <= b){
          r.marker.addTo(layerGroup);
          bounds.extend([r.lat, r.lon]);
          shown++;
        }
      }

      if (visibleCountEl) visibleCountEl.textContent = shown;

      // Auto-fit only once (on very first render), then never again
      if (!didAutoFitOnce && shown > 0 && bounds.isValid()){
        map.fitBounds(bounds.pad(0.15));
        didAutoFitOnce = true;
      }

      // Optional: announce to console (no DOM dependency)
      setStatus(`Showing ${shown} events in range ${fmtDate(dayNumToLocalDate(a))} – ${fmtDate(dayNumToLocalDate(b))}`);
    };

    slider.noUiSlider.off('update'); // ensure we don’t double-bind
    slider.noUiSlider.on('update', paint);
    paint(); // initial paint
  }
</script>

</body>
</html>
